<!DOCTYPE html>
<html>
    <head>
        <!-- head definitions go here -->
	<script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
    </head>
    <body>

	<!--<div style="background-image: url(https://www.denofgeek.com/wp-content/uploads/2021/09/book-of-boba-fett-release-date-trailer-cast-plot.jpg?fit=1688%2C940);">-->

    <style>
      input[type=text], select {
      width: 100%;
      padding: 12px 20px;
      margin: 8px 0;
      display: inline-block;
      border: 1px solid #ccc;
      border-radius: 4px;
      box-sizing: border-box;
      }
      input[type=submit] {
      width: 100%;
      background-color: #4CAF50;
      color: green;
      padding: 14px 20px;
      margin: 8px 0;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      }
      input[type=submit]:hover {
      background-color: #45a049;
      }

  </style>

	    <h1 id="mytime"></h1>
	<script>

    var images = ['viego.jpg', 'kaisa.jpg', 'jhin.jpg', 'lux.jpg', 'sett.jpg'];
    $('html').css({'background-image': 'url(images/' + images[Math.floor(Math.random() * images.length)] + ')'});

/*
    function sumSearch() {
        alert('Submitting Search Form');
        $.ajax({
          type: "POST",
          url: "/searchSummoner",
          data: $("#form").serialize(),
          success: function(temp) {
            alert ("In sumSearch")
            if(temp.jwt == null)
              alert(temp.status + ' ' + temp.msg);
            else {
              localStorage.clear()
              //alert(temp.jwt);
              localStorage.setItem('token',temp.jwt);

              $('#sumInfo').show();
              popTable();
            }
          }
        });
    }
*/
      function popTable() {
        $.ajax({
          type: "GET",
          url: "/populateTable",
          data: {'sumName':$('#sumName').val()},
          success: function(temp) {
            alert('Success');
            if(temp.Summoner_Name == null) {
              alert("Invalid Summoner Name");
            }
            else {
              window.location.reload();

              $('#summonerInfo').show();

              $('#sumInfo').append($('<li>',{value: temp.Summoner_Name,text: 'Summoner Name: ' + temp.Summoner_Name}));
              $('#sumInfo').append($('<li>',{value: temp.Summoner_Level,text: 'Summoner Level: ' + temp.Summoner_Level}));
              $('#sumInfo').append($('<li>',{value: temp.Highest_Champion,text: 'Highest Mastery Champion: ' +
              temp.Highest_Champion + ' Mastery Level: ' + temp.Champion_Level + ' Mastery Points: ' + temp.Champion_Mastery}));

            }
          }
        });
      }

	</script>

    <div id="summoner">
      <form id="form">
        <label for="sumName">Enter A Summoner Name:</label><br>
          <input type="text" id="sumName" name="sumName" value="Summoner Name"><br>
          <input type="button" value="Search" id="Search" onclick="return popTable();">
    </form>

    <div id="summonerInfo" style="display:none">
      <label for="sumTable">Summoner:</label><br>
        <ul id='sumInfo'>

        </ul>
    </div>

    </body>
</html>
